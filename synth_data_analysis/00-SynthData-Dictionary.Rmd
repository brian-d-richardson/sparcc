---
title: "Data Dictionary: SPARCC Synthetic Data Analysis"
author: "Brian Richardson"
date: "`r format(Sys.time(), '%m/%d/%Y')`"
output:
  html_document:
    code_folding: hide
---

This document describes the data used in the synthetic data analysis accompanying the `sparcc` R package and the paper "SPARCC: Semi-Parametric Robust Estimation in a Right-Censored Covariate Model," which is currently under revision. A pre-print can be found here: https://arxiv.org/abs/2409.07795.

The real analysis uses data from the ENROLL-HD study, available upon request at: https://enroll-hd.org/for-researchers/access-data-biosamples/.  

For this synthetic analysis, synthetic data are generated to mimic the structure of the ENROLL-HD data and analyzed using the same workflow.

---

### R Scripts

Five R scripts are used:

* `01-SynthData-Generation.R`: generates synthetic analysis data sets (stored in `derived-data/`)
* `02-SynthData-Analysis-TMS.R`: analyzes data with the Total Motor Score (TMS) outcome
* `03-SynthData-Analysis-SDMT.R`: analyzes data with the Symbol Digit Modalities Test (SDMT) outcome
* `04-SynthData-Analysis-cUHDRS.R`: analyzes data with the composite Unified Huntington’s Disease Rating Scale (cUHDRS) outcome
* `05-SynthData-Results.R`: compiles results across outcomes, produces tables, and produces figures in `figures/`

---

### Data Sets

Six data sets are generated by `01-SynthData-Generation.R` and stored in `derived-data/`:

* `datf_TMS.csv`
* `datf_SDMT.csv`
* `datf_cUHDRS.csv`
* `dat_TMS.csv`
* `dat_SDMT.csv`
* `dat_cUHDRS.csv`

#### `datf_*` data sets  
Contain the following variables:
- `Y`: numeric outcome (TMS, SDMT, or cUHDRS, depending on suffix)  
- `C`: time (years) until study exit  
- `X`: time (years) until Huntington’s disease diagnosis (NA if censored, i.e., if exit occurs before diagnosis)  
- `W`: observed time, `min(X, C)`  
- `Delta`: censoring indicator (1 if uncensored, 0 if censored)  
- `Z`: high CAP score indicator (1 if CAP ≥ 368, 0 otherwise)  

#### `dat_*` data sets  
Contain only: `Y`, `W`, `Delta`, and `Z`.

The reason for the two types of data set is that the SPARCC estimator is designed for the case when just `Y`, `W`, `Delta`, `Z` are available. For the ENROLL-HD data, however, `C` is available for all participants, which additional information can be used to better fit the nuisance distribution model for `C` given `Z`.

---

### Outcomes (`Y`)

Three outcomes are analyzed:  
- **Total Motor Score (TMS):** transformed as $y \mapsto \log(y+1)$  
- **Symbol Digit Modalities Test (SDMT)**  
- **Composite Unified Huntington’s Disease Rating Scale (cUHDRS)**  
